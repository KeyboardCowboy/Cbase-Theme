/**
 * @file
 * A Collection of common theming tools.
 */(function(e){function t(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return n==null?null:decodeURIComponent(n[1].replace(/\+/g," "))}function n(e){return typeof e!="undefined"}Drupal.behaviors.cBase={e:{},attach:function(){this.adjustAdminMenus()},adjustAdminMenus:function(){var t=this;this.e.adminSidebar=e("#admin-toolbar .admin-blocks, #admin-toolbar .admin-toggle",context);this.e.adminMenu=e("#admin-menu",context);if(this.e.adminSidebar.length>0){Drupal.settings.admin_menu&&(toplisten=setInterval(function(){if(t.e.adminMenu.length>0){t.e.adminSidebar.animate({top:t.e.adminMenu.inScrollView("top")});clearInterval(toplisten)}},250));e(window).scroll(function(){t.e.adminMenu.length>0&&t.e.adminSidebar.css({top:t.e.adminMenu.inScrollView("top")})})}}};cBaseDialog={e:e("<aside></aside>",{id:"cbase-dialog"}),spinner:e("<span>Working...</span>"),spinner_fa:e("<i></i>",{"class":"icon-spinner icon-spin icon-2x"}),init:function(){this.e.appendTo("body");this.spinner_fa.appendTo("body").addClass("element-invisible")},show:function(t,r){this.e.html(t);var i=e(window).height()/2-this.e.height()/2,s=e(window).width()/2-this.e.width()/2;this.e.css({top:i,left:s});this.e.fadeIn("fast");n(r)&&this.hide(r)},hide:function(e){e=e||0;this.e.delay(e).fadeOut("slow")},working:function(e){this.show(this.spinner_fa,e)}};cBaseUtil={};e.fn.inScrollView=function(t){var n=e(this),r=e(window).scrollTop(),i=r+e(window).height(),s=n.offset().top,o=s+n.height();return t&&t=="top"?Math.max(0,o-r):t&&t=="bottom"?Math.max(0,i-s):o<=i&&i-o};e.fn.matchHeight=function(){var t=e(this);if(t.length<=1)return;var n=0;t.each(function(t){n=Math.max(n,e(this).outerHeight(!0))});t.each(function(t){var r=e(this).outerHeight(!0)-e(this).height();e(this).css({"min-height":n-r+"px"})})};e.fn.setPos=function(t,n,r,i){var s={},o={};s.top=t!="undefined"?t:null;s.right=n!="undefined"?n:null;s.bottom=r!="undefined"?r:null;s.left=i!="undefined"?i:null;for(var u in s)s[u]!=null&&(o[u]=s[u]);e(this).css(o)}})(jQuery);